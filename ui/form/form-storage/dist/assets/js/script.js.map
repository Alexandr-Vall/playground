{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","defaults","formElements","localStorageKey","FormStorage","element","options","this","assign","onSubmit","bind","addEventListeners","getForm","formStorageKey","window","localStorage","getItem","name","JSON","parse","map","field","input","querySelector","id","checked","form","Array","from","querySelectorAll","join","push","setItem","stringify","setForm","addEventListener","default","2","_interopRequireDefault","obj","__esModule","_formStorage","_formStorage2","document","./form-storage"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaults = {\n  formElements: ['input[type=\"checkbox\"]', 'input[type=\"date\"]', 'input[type=\"email\"]', 'input[type=\"hidden\"]', 'input[type=\"number\"]', 'input[type=\"radio\"]', 'input[type=\"range\"]', 'input[type=\"search\"]', 'input[type=\"tel\"]', 'input[type=\"text\"]', 'input[type=\"time\"]', 'input[type=\"url\"]', 'select', 'textarea'],\n  localStorageKey: 'js-form-storage'\n};\n\nvar FormStorage = function () {\n  function FormStorage(element, options) {\n    _classCallCheck(this, FormStorage);\n\n    Object.assign(this, defaults, options);\n    this.element = element;\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.addEventListeners();\n\n    this.getForm();\n  }\n\n  _createClass(FormStorage, [{\n    key: 'getForm',\n    value: function getForm() {\n      var element = this.element;\n\n      var formStorageKey = window.localStorage.getItem(this.localStorageKey + '-' + element.name);\n\n      if (formStorageKey) {\n        JSON.parse(formStorageKey).map(function (field) {\n          var input = element.querySelector(field.id);\n\n          input.checked = field.checked;\n          input.value = field.value;\n        });\n      }\n    }\n  }, {\n    key: 'setForm',\n    value: function setForm() {\n      var element = this.element;\n\n      var form = [];\n\n      Array.from(element.querySelectorAll(this.formElements.join(', '))).map(function (input) {\n        form.push({\n          id: '#' + input.id,\n          checked: input.checked,\n          value: input.value\n        });\n      });\n\n      window.localStorage.setItem(this.localStorageKey + '-' + element.name, JSON.stringify(form));\n    }\n  }, {\n    key: 'onSubmit',\n    value: function onSubmit() {\n      this.setForm();\n    }\n  }, {\n    key: 'addEventListeners',\n    value: function addEventListeners() {\n      this.element.addEventListener('submit', this.onSubmit);\n    }\n  }]);\n\n  return FormStorage;\n}();\n\nexports.default = FormStorage;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _formStorage = require('./form-storage');\n\nvar _formStorage2 = _interopRequireDefault(_formStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nArray.from(document.querySelectorAll('.js-form-storage')).map(function (form) {\n  new _formStorage2.default(form);\n});\n\n},{\"./form-storage\":1}]},{},[2]);\n"]}