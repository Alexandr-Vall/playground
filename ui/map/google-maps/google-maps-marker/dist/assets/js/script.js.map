{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/assets/js/google-maps.js","source/assets/js/script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","GoogleMaps","element","options","_classCallCheck","this","init","onResize","bind","addEventListeners","map","google","maps","Map","document","querySelector","setCenter","lat","lng","locations","infoWindow","InfoWindow","markers","location","marker","Marker","event","addListener","setContent","content","open","MarkerClusterer","Rectangle","setMap","center","getCenter","trigger","window","addEventListener","googleMaps","default","zoom","navigator","geolocation","getCurrentPosition","position","renderMap","coords","latitude","longitude","error","enableHighAccuracy","maximumAge","fetch","then","response","json","data","renderMarkers","renderMarkerClusterer","imagePath","renderRectangle","bounds","LatLngBounds","fillColor","fillOpacity"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAa,GAAA,SAAAT,EAAAU,EAAAJ,wZCAMK,aAEJ,SAAAA,EAAYC,EAASC,GAASC,EAAAC,KAAAJ,GAC5BI,KAAKH,QAAUA,EAEfG,KAAKC,KAAKH,GAEVE,KAAKE,SAAWF,KAAKE,SAASC,KAAKH,MACnCA,KAAKI,2DAGFN,GACHE,KAAKK,IAAM,IAAIC,OAAOC,KAAKC,IAAIC,SAASC,cAAcV,KAAKH,SAAUC,qCAG7DA,GACRE,KAAKK,IAAIM,WACPC,IAAKd,EAAQc,IACbC,IAAKf,EAAQe,4CAIHC,GAAW,IACfT,EAAQL,KAARK,IACFU,EAAa,IAAIT,OAAOC,KAAKS,WAEnChB,KAAKiB,QAAUH,EAAUT,IAAI,SAAAa,GAC3B,IAAMC,EAAS,IAAIb,OAAOC,KAAKa,OAAOF,GAStC,OAPIA,EAASH,YACXT,OAAOC,KAAKc,MAAMC,YAAYH,EAAQ,QAAS,WAC7CJ,EAAWQ,WAAWL,EAASH,WAAWS,SAC1CT,EAAWU,KAAKpB,EAAKc,KAIlBA,kDAIWrB,GACpB,IAAI4B,gBAAgB1B,KAAKK,IAAKL,KAAKiB,QAASnB,2CAG9BA,GACI,IAAIQ,OAAOC,KAAKoB,UAAU7B,GAElC8B,OAAO5B,KAAKK,wCAGb,IACDA,EAAQL,KAARK,IACFwB,EAASxB,EAAIyB,YAEnBxB,OAAOC,KAAKc,MAAMU,QAAQ1B,EAAK,UAC/BA,EAAIM,UAAUkB,+CAIdG,OAAOC,iBAAiB,SAAUjC,KAAKE,6BAK5BN,uCChEf,IAEMsC,EAAa,sDAFnBjD,EAAA,kBAEmBkD,SAAe,mBAChCN,QACEjB,IAAK,UACLC,IAAK,WAEPuB,KAAM,IAGRC,UAAUC,YAAYC,mBAAmB,SAAAC,GACvCN,EAAWO,WACT7B,IAAK4B,EAASE,OAAOC,SACrB9B,IAAK2B,EAASE,OAAOE,aAEtB,SAAAC,GACD,MAAM,IAAIzD,MAAMyD,KAEhBC,oBAAoB,EACpBC,WAAY,IAGdC,MAAM,uBACHC,KAAK,SAAAC,GAAA,OAAYA,EAASC,SAC1BF,KAAK,SAAAG,GACJlB,EAAWmB,cAAcD,GACzBlB,EAAWoB,uBACTC,UAAW,qBAEbrB,EAAWsB,iBACTC,OAAQ,IAAInD,OAAOC,KAAKmD,cAEpB9C,KAAM,GACNC,KAAM,MAGND,IAAK,GACLC,IAAK,MAGT8C,UAAW,OACXC,YAAa","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class GoogleMaps {\n\n  constructor(element, options) {\n    this.element = element;\n\n    this.init(options);\n\n    this.onResize = this.onResize.bind(this);\n    this.addEventListeners();\n  }\n\n  init(options) {\n    this.map = new google.maps.Map(document.querySelector(this.element), options);\n  }\n\n  renderMap(options) {\n    this.map.setCenter({\n      lat: options.lat,\n      lng: options.lng\n    });\n  }\n\n  renderMarkers(locations) {\n    const { map } = this;\n    const infoWindow = new google.maps.InfoWindow();\n\n    this.markers = locations.map(location => {\n      const marker = new google.maps.Marker(location);\n\n      if (location.infoWindow) {\n        google.maps.event.addListener(marker, 'click', () => {\n          infoWindow.setContent(location.infoWindow.content);\n          infoWindow.open(map, marker);\n        });\n      }\n\n      return marker;\n    });\n  }\n\n  renderMarkerClusterer(options) {\n    new MarkerClusterer(this.map, this.markers, options);\n  }\n\n  renderRectangle(options) {\n    const rectangle = new google.maps.Rectangle(options);\n\n    rectangle.setMap(this.map);\n  }\n\n  onResize() {\n    const { map } = this;\n    const center = map.getCenter();\n\n    google.maps.event.trigger(map, 'resize');\n    map.setCenter(center);\n  }\n\n  addEventListeners() {\n    window.addEventListener('resize', this.onResize);\n  }\n\n}\n\nexport default GoogleMaps;\n","import GoogleMaps from './google-maps';\n\nconst googleMaps = new GoogleMaps('.js-google-maps', {\n  center: {\n    lat: 49.718364,\n    lng: 12.687261\n  },\n  zoom: 5\n});\n\nnavigator.geolocation.getCurrentPosition(position => {\n  googleMaps.renderMap({\n    lat: position.coords.latitude,\n    lng: position.coords.longitude\n  })\n}, error => {\n  throw new Error(error);\n}, {\n  enableHighAccuracy: true,\n  maximumAge: 0\n});\n\nfetch('data/locations.json')\n  .then(response => response.json())\n  .then(data => {\n    googleMaps.renderMarkers(data);\n    googleMaps.renderMarkerClusterer({\n      imagePath: 'content/images/m'\n    });\n    googleMaps.renderRectangle({\n      bounds: new google.maps.LatLngBounds(\n        {\n          lat: -90,\n          lng: -180\n        },\n        {\n          lat: 90,\n          lng: 180\n        }\n      ),\n      fillColor: '#000',\n      fillOpacity: 0.3\n    });\n  });\n"]}