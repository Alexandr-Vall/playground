{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","GoogleMaps","element","options","this","init","onResize","bind","addEventListeners","map","google","maps","Map","document","querySelector","setCenter","lat","lng","locations","infoWindow","InfoWindow","markers","location","marker","Marker","icon","position","title","event","addListener","setContent","content","open","MarkerClusterer","imagePath","center","getCenter","trigger","window","addEventListener","default","2","_interopRequireDefault","obj","__esModule","_googleMaps","_googleMaps2","googleMaps","zoom","navigator","geolocation","getCurrentPosition","renderMap","coords","latitude","longitude","error","enableHighAccuracy","maximumAge","fetch","then","response","json","data","renderMarkers","renderMarkerClusterer","./google-maps"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GoogleMaps = function () {\n  function GoogleMaps(element, options) {\n    _classCallCheck(this, GoogleMaps);\n\n    this.element = element;\n\n    this.init(options);\n\n    this.onResize = this.onResize.bind(this);\n    this.addEventListeners();\n  }\n\n  _createClass(GoogleMaps, [{\n    key: 'init',\n    value: function init(options) {\n      this.map = new google.maps.Map(document.querySelector(this.element), options);\n    }\n  }, {\n    key: 'renderMap',\n    value: function renderMap(options) {\n      this.map.setCenter({\n        lat: options.lat,\n        lng: options.lng\n      });\n    }\n  }, {\n    key: 'renderMarkers',\n    value: function renderMarkers(locations) {\n      var map = this.map;\n\n      var infoWindow = new google.maps.InfoWindow();\n\n      this.markers = locations.map(function (location) {\n        var marker = new google.maps.Marker({\n          icon: location.icon,\n          map: map,\n          position: {\n            lat: location.lat,\n            lng: location.lng\n          },\n          title: location.title\n        });\n\n        if (location.infoWindow) {\n          google.maps.event.addListener(marker, 'click', function () {\n            infoWindow.setContent(location.infoWindow.content);\n            infoWindow.open(map, marker);\n          });\n        }\n\n        return marker;\n      });\n    }\n  }, {\n    key: 'renderMarkerClusterer',\n    value: function renderMarkerClusterer() {\n      new MarkerClusterer(this.map, this.markers, {\n        imagePath: 'content/images/m'\n      });\n    }\n  }, {\n    key: 'onResize',\n    value: function onResize() {\n      var map = this.map;\n\n      var center = map.getCenter();\n\n      google.maps.event.trigger(map, 'resize');\n      map.setCenter(center);\n    }\n  }, {\n    key: 'addEventListeners',\n    value: function addEventListeners() {\n      window.addEventListener('resize', this.onResize);\n    }\n  }]);\n\n  return GoogleMaps;\n}();\n\nexports.default = GoogleMaps;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _googleMaps = require('./google-maps');\n\nvar _googleMaps2 = _interopRequireDefault(_googleMaps);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar googleMaps = new _googleMaps2.default('.js-google-maps', {\n  center: {\n    lat: 49.718364,\n    lng: 12.687261\n  },\n  zoom: 5\n});\n\nnavigator.geolocation.getCurrentPosition(function (position) {\n  googleMaps.renderMap({\n    lat: position.coords.latitude,\n    lng: position.coords.longitude\n  });\n}, function (error) {\n  throw new Error(error);\n}, {\n  enableHighAccuracy: true,\n  maximumAge: 0\n});\n\nfetch('data/locations.json').then(function (response) {\n  return response.json();\n}).then(function (data) {\n  googleMaps.renderMarkers(data);\n  googleMaps.renderMarkerClusterer();\n});\n\n},{\"./google-maps\":1}]},{},[2]);\n"]}