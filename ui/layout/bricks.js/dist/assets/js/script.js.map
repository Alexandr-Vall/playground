{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","factory","define","amd","Bricks","this","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","knot","on","name","handler","events","push","off","undefined","splice","indexOf","extended","create","once","_once","emit","_this","_len","args","Array","_key","cache","slice","forEach","apply","runSeries","functions","func","toArray","input","document","fillArray","map","getSizeIndex","sizes","size","mq","window","matchMedia","matches","resizeFrame","ticking","requestAnimationFrame","resizeHandler","sizeIndex","pack","instance","sizeDetail","persist","setup","concat","run","options","columnTarget","columnHeights","nodeTop","nodeLeft","nodeWidth","nodeHeight","nodes","nodesWidths","nodesHeights","packed","reverse","position","container","nodeType","querySelector","selectors","all","children","new","filter","node","hasAttribute","columns","element","clientWidth","clientHeight","index","Math","min","style","gutter","top","left","transform","setAttribute","width","height","max","update","resize","action","2","EvEmitter","proto","eventName","listener","_events","listeners","onceEvents","_onceEvents","emitEvent","onceListeners","allOff","3","imagesLoaded","extend","b","prop","makeArray","obj","ary","isArray","ImagesLoaded","elem","onAlways","querySelectorAll","elements","getImages","$","jqDeferred","Deferred","setTimeout","check","bind","LoadingImage","img","Background","url","Image","jQuery","console","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","9","11","getComputedStyle","reURL","exec","backgroundImage","addBackground","loadingImage","onProgress","image","message","progress","progressedCount","hasAnyBroken","complete","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","addEventListener","src","handleEvent","event","method","type","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","fn","callback","promise","ev-emitter","4","_interopRequireDefault","__esModule","default","_bricks2","bricks.js","imagesloaded"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Bricks = factory());\n}(this, (function () { 'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar knot = function knot() {\n  var extended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var events = Object.create(null);\n\n  function on(name, handler) {\n    events[name] = events[name] || [];\n    events[name].push(handler);\n    return this;\n  }\n\n  function once(name, handler) {\n    handler._once = true;\n    on(name, handler);\n    return this;\n  }\n\n  function off(name) {\n    var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    handler ? events[name].splice(events[name].indexOf(handler), 1) : delete events[name];\n\n    return this;\n  }\n\n  function emit(name) {\n    var _this = this;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // cache the events, to avoid consequences of mutation\n    var cache = events[name] && events[name].slice();\n\n    // only fire handlers if they exist\n    cache && cache.forEach(function (handler) {\n      // remove handlers added with 'once'\n      handler._once && off(name, handler);\n\n      // set 'this' context, pass args to handlers\n      handler.apply(_this, args);\n    });\n\n    return this;\n  }\n\n  return _extends({}, extended, {\n\n    on: on,\n    once: once,\n    off: off,\n    emit: emit\n  });\n};\n\nvar bricks = function bricks() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // privates\n\n  var persist = void 0; // packing new elements, or all elements?\n  var ticking = void 0; // for debounced resize\n\n  var sizeIndex = void 0;\n  var sizeDetail = void 0;\n\n  var columnTarget = void 0;\n  var columnHeights = void 0;\n\n  var nodeTop = void 0;\n  var nodeLeft = void 0;\n  var nodeWidth = void 0;\n  var nodeHeight = void 0;\n\n  var nodes = void 0;\n  var nodesWidths = void 0;\n  var nodesHeights = void 0;\n\n  // resolve options\n\n  var packed = options.packed.indexOf('data-') === 0 ? options.packed : 'data-' + options.packed;\n  var sizes = options.sizes.slice().reverse();\n  var position = options.position !== false;\n\n  var container = options.container.nodeType ? options.container : document.querySelector(options.container);\n\n  var selectors = {\n    all: function all() {\n      return toArray(container.children);\n    },\n    new: function _new() {\n      return toArray(container.children).filter(function (node) {\n        return !node.hasAttribute('' + packed);\n      });\n    }\n  };\n\n  // series\n\n  var setup = [setSizeIndex, setSizeDetail, setColumns];\n\n  var run = [setNodes, setNodesDimensions, setNodesStyles, setContainerStyles];\n\n  // instance\n\n  var instance = knot({\n    pack: pack,\n    update: update,\n    resize: resize\n  });\n\n  return instance;\n\n  // general helpers\n\n  function runSeries(functions) {\n    functions.forEach(function (func) {\n      return func();\n    });\n  }\n\n  // array helpers\n\n  function toArray(input) {\n    var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    return Array.prototype.slice.call(input);\n  }\n\n  function fillArray(length) {\n    return Array.apply(null, Array(length)).map(function () {\n      return 0;\n    });\n  }\n\n  // size helpers\n\n  function getSizeIndex() {\n    // find index of widest matching media query\n    return sizes.map(function (size) {\n      return size.mq && window.matchMedia('(min-width: ' + size.mq + ')').matches;\n    }).indexOf(true);\n  }\n\n  function setSizeIndex() {\n    sizeIndex = getSizeIndex();\n  }\n\n  function setSizeDetail() {\n    // if no media queries matched, use the base case\n    sizeDetail = sizeIndex === -1 ? sizes[sizes.length - 1] : sizes[sizeIndex];\n  }\n\n  // column helpers\n\n  function setColumns() {\n    columnHeights = fillArray(sizeDetail.columns);\n  }\n\n  // node helpers\n\n  function setNodes() {\n    nodes = selectors[persist ? 'new' : 'all']();\n  }\n\n  function setNodesDimensions() {\n    // exit if empty container\n    if (nodes.length === 0) {\n      return;\n    }\n\n    nodesWidths = nodes.map(function (element) {\n      return element.clientWidth;\n    });\n    nodesHeights = nodes.map(function (element) {\n      return element.clientHeight;\n    });\n  }\n\n  function setNodesStyles() {\n    nodes.forEach(function (element, index) {\n      columnTarget = columnHeights.indexOf(Math.min.apply(Math, columnHeights));\n\n      element.style.position = 'absolute';\n\n      nodeTop = columnHeights[columnTarget] + 'px';\n      nodeLeft = columnTarget * nodesWidths[index] + columnTarget * sizeDetail.gutter + 'px';\n\n      // support positioned elements (default) or transformed elements\n      if (position) {\n        element.style.top = nodeTop;\n        element.style.left = nodeLeft;\n      } else {\n        element.style.transform = 'translate3d(' + nodeLeft + ', ' + nodeTop + ', 0)';\n      }\n\n      element.setAttribute(packed, '');\n\n      // ignore nodes with no width and/or height\n      nodeWidth = nodesWidths[index];\n      nodeHeight = nodesHeights[index];\n\n      if (nodeWidth && nodeHeight) {\n        columnHeights[columnTarget] += nodeHeight + sizeDetail.gutter;\n      }\n    });\n  }\n\n  // container helpers\n\n  function setContainerStyles() {\n    container.style.position = 'relative';\n    container.style.width = sizeDetail.columns * nodeWidth + (sizeDetail.columns - 1) * sizeDetail.gutter + 'px';\n    container.style.height = Math.max.apply(Math, columnHeights) - sizeDetail.gutter + 'px';\n  }\n\n  // resize helpers\n\n  function resizeFrame() {\n    if (!ticking) {\n      window.requestAnimationFrame(resizeHandler);\n      ticking = true;\n    }\n  }\n\n  function resizeHandler() {\n    if (sizeIndex !== getSizeIndex()) {\n      pack();\n      instance.emit('resize', sizeDetail);\n    }\n\n    ticking = false;\n  }\n\n  // API\n\n  function pack() {\n    persist = false;\n    runSeries(setup.concat(run));\n\n    return instance.emit('pack');\n  }\n\n  function update() {\n    persist = true;\n    runSeries(run);\n\n    return instance.emit('update');\n  }\n\n  function resize() {\n    var flag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    var action = flag ? 'addEventListener' : 'removeEventListener';\n\n    window[action]('resize', resizeFrame);\n\n    return instance;\n  }\n};\n\nreturn bricks;\n\n})));\n\n},{}],2:[function(require,module,exports){\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n},{}],3:[function(require,module,exports){\n/*!\n * imagesLoaded v4.1.3\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n},{\"ev-emitter\":2}],4:[function(require,module,exports){\n'use strict';\n\nvar _bricks = require('bricks.js');\n\nvar _bricks2 = _interopRequireDefault(_bricks);\n\nvar _imagesloaded = require('imagesloaded');\n\nvar _imagesloaded2 = _interopRequireDefault(_imagesloaded);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _imagesloaded2.default)('.js-images-loaded', function () {\n  var bricks = (0, _bricks2.default)({\n    container: '.js-bricks',\n    packed: 'data-packed',\n    position: false,\n    sizes: [{\n      columns: 2,\n      gutter: 10\n    }, {\n      columns: 3,\n      gutter: 10,\n      mq: '480px'\n    }, {\n      columns: 4,\n      gutter: 10,\n      mq: '768px'\n    }]\n  }).resize(true);\n});\n\n},{\"bricks.js\":1,\"imagesloaded\":3}]},{},[4]);\n"]}