{"version":3,"sources":["script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","factory","define","amd","d3","this","ascendingComparator","d","x","ascending","pair","b","tickIncrement","start","stop","count","step","Math","max","power","floor","log","LN10","error","pow","e10","e5","e2","tickStep","step0","abs","step1","NaN","bisector","compare","left","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","number","variance","values","valueof","value","delta","m","mean","sum","isNaN","deviation","array","v","sqrt","extent","min","Array","prototype","slice","map","constant","identity","range","arguments","ceil","sturges","LN2","quantile","p","i0","value0","transpose","matrix","j","row","bisect","cross","values0","values1","reduce","i1","n0","n1","descending","histogram","data","xz","domain","x0","x1","tz","threshold","isArray","shift","pop","bin","bins","push","_","thresholds","thresholdFreedmanDiaconis","sort","thresholdScott","thresholdSturges","median","numbers","merge","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","random","ticks","reverse","isFinite","zip","Object","defineProperty","2","d3Array","Adder","reset","add","adder","bv","av","acos","pi","asin","halfPi","haversin","sin","noop","streamGeometry","geometry","stream","streamGeometryType","hasOwnProperty","type","streamLine","coordinates","closed","coordinate","lineStart","point","lineEnd","streamPolygon","polygonStart","polygonEnd","areaRingStart","areaStream","areaPointFirst","areaRingEnd","areaPoint","lambda00","phi00","lambda","phi","lambda0","radians","cosPhi0","cos","quarterPi","sinPhi0","dLambda","sdLambda","adLambda","cosPhi","sinPhi","k","areaRingSum","atan2","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","boundsPoint","ranges","range$1","lambda0$1","lambda1","phi0","phi1","linePoint","p0","normal","inflection","phii","lambda2","sign$$1","lambdai","degrees","antimeridian","angle","boundsLineStart","boundsStream","boundsLineEnd","boundsRingPoint","deltaSum","lambda00$1","phi00$1","boundsRingStart","boundsRingEnd","epsilon","rangeCompare","rangeContains","range$$1","centroidPoint","centroidPointCartesian","y","z","X0","W0","Y0","Z0","centroidLineStart","centroidStream","centroidLinePointFirst","y0","z0","centroidLinePoint","w","W1","X1","Y1","Z1","centroidLineEnd","centroidRingStart","centroidRingPointFirst","centroidRingEnd","centroidRingPoint","lambda00$2","phi00$2","cx","cy","cz","X2","Y2","Z2","rotationIdentity","tau","rotateRadians","deltaLambda","deltaPhi","deltaGamma","compose","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","invert","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","circleStream","radius","direction","t0","t1","cosRadius","sinRadius","circleRadius","Intersection","points","other","entry","link","clipExtent","y1","visible","interpolate","from","to","a1","corner","comparePoint","compareIntersection","ca","cb","activeStream","polygonInside","winding","polygon","a0","ring","b0","b1","first","x__","y__","v__","v_","x_","clipMin","clipMax","y_","clipLine","clean","segments","bufferStream","clipBuffer","clipStream","rejoin","result","startInside","cleanInside","clipPolygon","lengthLineEnd","lengthStream","lengthPointFirst","lambda0$2","sinPhi0$1","cosPhi0$1","lengthPoint","cosDelta","lengthSum","containsGeometry","containsGeometryType","containsPoint","distance","containsLine","ab","containsPolygon","polygonContains","ringRadians","pointRadians","graticuleX","dy","concat","graticuleY","dx","graticule","lines","DX","X","DY","Y","filter","precision","outline","extentMajor","extentMinor","stepMajor","stepMinor","areaRingStart$1","areaStream$1","areaPointFirst$1","areaPoint$1","x00","x0$1","y00","y0$1","areaRingSum$1","areaRingEnd$1","centroidPoint$1","X0$1","Y0$1","Z0$1","centroidLineStart$1","centroidStream$1","centroidPointFirstLine","centroidPointLine","x0$3","y0$3","X1$1","Y1$1","Z1$1","centroidLineEnd$1","centroidRingStart$1","centroidPointFirstRing","centroidRingEnd$1","centroidPointRing","x00$1","y00$1","X2$1","Y2$1","Z2$1","PathContext","context","_context","lengthPointFirst$1","lengthStream$1","lengthPoint$1","x00$2","x0$4","y00$2","y0$4","lengthSum$1","PathString","_string","circle$1","validSegment","segment","clipAntimeridianIntersect","cosPhi1","sinLambda0Lambda1","atan","transformer","methods","TransformStream","key","fitExtent","projection","object","h","clip","scale","translate","geoStream","boundsStream$1","fitSize","size","resampleNone","project","resample$1","delta2","resampleLineTo","c0","c1","depth","d2","c","phi2","x2","y2","dx2","dy2","dz","cosMinDistance","resampleStream","maxDepth","ringStart","ringPoint","ringEnd","a00","b00","c00","projectionMutator","projectAt","projectRotate","projectTransform","recenter","rotate","center","cache","cacheStream","theta","preclip","clipAntimeridian","postclip","projectResample","resample","transformRadians","clipAngle","clipCircle","apply","conicProjection","parallels","cylindricalEqualAreaRaw","forward","conicEqualAreaRaw","r0","sy0","r0y","sign","multiplex","streams","sphere","azimuthalRaw","azimuthalInvert","sc","cc","mercatorRaw","tan","mercatorProjection","reclip","tany","conicConformalRaw","cy0","fy","equirectangularRaw","conicEquidistantRaw","gy","g","nx","gnomonicRaw","scaleTranslate","kx","ky","tx","ty","orthographicRaw","stereographicRaw","transverseMercatorRaw","constructor","temp","valueOf","PI","exp","streamObjectType","Feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","areaSum","areaRing","line","ax","ay","pointEqual","subject","forEach","p1","current","isSubject","point0","sinPhi1","point1","absDelta","arc","intersection","phiArc","containsObjectType","areaSum$1","area","x0$2","Infinity","y0$2","bounds","centroid","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","_circle","join","pointVisible","sink","pointLine","pointRing","ringSink","ringSegments","ringBuffer","polygonStarted","rotatedStart","sign0","sign1","cr","intersect","two","n2","n2n2","n1n2","determinant","c2","n1xn2","A","uu","t2","q","polar","meridian","q1","smallRadius","notHemisphere","v0","v00","point2","conicEqualArea","albers","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","geoArea","geoBounds","feature","deltaMax","geoCentroid","geoCircle","circle","geoClipExtent","geoContains","geoDistance","geoGraticule","geoGraticule10","geoInterpolate","cy1","sy1","kx0","ky0","kx1","ky1","B","geoLength","geoPath","path","contextStream","projectionStream","measure","geoAlbers","geoAlbersUsa","albersUsa","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","geoAzimuthalEqualArea","geoAzimuthalEqualAreaRaw","geoAzimuthalEquidistant","geoAzimuthalEquidistantRaw","geoConicConformal","geoConicConformalRaw","geoConicEqualArea","geoConicEqualAreaRaw","geoConicEquidistant","geoConicEquidistantRaw","geoEquirectangular","geoEquirectangularRaw","geoGnomonic","geoGnomonicRaw","geoIdentity","sx","sy","transform","reflectX","reflectY","geoProjection","geoProjectionMutator","geoMercator","geoMercatorRaw","geoOrthographic","geoOrthographicRaw","geoStereographic","geoStereographicRaw","geoTransverseMercator","geoTransverseMercatorRaw","geoRotation","geoTransform","d3-array","3","creatorInherit","name","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","Local","nextId","toString","filterContextListener","listener","index","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","trim","split","indexOf","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","none","empty","EnterNode","parent","datum","_next","_parent","bindIndex","enter","update","exit","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","keyPrefix","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","defaultView","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","root","namespaces","svg","xlink","xml","xmlns","namespace","prefix","creator","get","id","set","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","mouseenter","mouseleave","sourceEvent","source","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","querySelector","selectorAll","querySelectorAll","sparse","child","next","splice","contains","select","subgroups","subnode","subgroup","selectAll","match","each","bind","enterGroup","updateGroup","previous","_enter","_exit","groups0","groups1","m0","m1","merges","group0","group1","order","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","property","classed","text","html","append","create","insert","before","dispatch","mouse","changedTouches","touch","touches","identifier","customEvent","that","args","4","topojson","feature$1","topology","bbox","properties","arcs","transformPoint","meshArcs","object$$1","extractArcs","stitch","extract0","geomsByArc","geom","extract1","extract2","extract3","geoms","planarRingArea","mergeArcs","objects","extract","polygonsByArc","polygons","neighbors","ki","input","output","bboxPoint","bboxGeometry","ends","dp","flush","fragmentByEnd","fragmentByStart","end","stitchedArcs","fragments","emptyIndex","fg","unshift","gf","untransform","round","mesh","indexesByArc","geometryType","ij","ik","quantize","quantizePoint","quantizeGeometry","box","inputs","outputs","5","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","_d3Selection","_d3Geo","_topojsonClient","WorldMap","options","defaults","width","height","assign","init","country","states","population","console","countries","renderCountries","default","d3-geo","d3-selection","topojson-client","6","worldmap","obj","__esModule","_interopRequireDefault","fetch","then","response","json","render","./d3-worldmap.js"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// https://d3js.org/d3-array/ Version 1.2.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar ascending = function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n};\n\nvar bisector = function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n};\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar bisectLeft = ascendingBisect.left;\n\nvar pairs = function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n};\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nvar cross = function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n};\n\nvar descending = function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\n\nvar number = function(x) {\n  return x === null ? NaN : +x;\n};\n\nvar variance = function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n};\n\nvar deviation = function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n};\n\nvar extent = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n};\n\nvar array = Array.prototype;\n\nvar slice = array.slice;\nvar map = array.map;\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar identity = function(x) {\n  return x;\n};\n\nvar range = function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n};\n\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\n\nvar ticks = function(start, stop, count) {\n  var reverse = stop < start,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  if (reverse) n = start, start = stop, stop = n;\n\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n};\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nvar sturges = function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n};\n\nvar histogram = function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, Math.floor(x1 / tz) * tz, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisectRight(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n};\n\nvar quantile = function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n};\n\nvar freedmanDiaconis = function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n};\n\nvar scott = function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n};\n\nvar max = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n};\n\nvar mean = function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n};\n\nvar median = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n};\n\nvar merge = function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n};\n\nvar min = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n};\n\nvar permute = function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n};\n\nvar scan = function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n};\n\nvar shuffle = function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n};\n\nvar sum = function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n};\n\nvar transpose = function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n};\n\nfunction length(d) {\n  return d.length;\n}\n\nvar zip = function() {\n  return transpose(arguments);\n};\n\nexports.bisect = bisectRight;\nexports.bisectRight = bisectRight;\nexports.bisectLeft = bisectLeft;\nexports.ascending = ascending;\nexports.bisector = bisector;\nexports.cross = cross;\nexports.descending = descending;\nexports.deviation = deviation;\nexports.extent = extent;\nexports.histogram = histogram;\nexports.thresholdFreedmanDiaconis = freedmanDiaconis;\nexports.thresholdScott = scott;\nexports.thresholdSturges = sturges;\nexports.max = max;\nexports.mean = mean;\nexports.median = median;\nexports.merge = merge;\nexports.min = min;\nexports.pairs = pairs;\nexports.permute = permute;\nexports.quantile = quantile;\nexports.range = range;\nexports.scan = scan;\nexports.shuffle = shuffle;\nexports.sum = sum;\nexports.ticks = ticks;\nexports.tickIncrement = tickIncrement;\nexports.tickStep = tickStep;\nexports.transpose = transpose;\nexports.variance = variance;\nexports.zip = zip;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],2:[function(require,module,exports){\n// https://d3js.org/d3-geo/ Version 1.6.4. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-array'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Array) { 'use strict';\n\n// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nvar adder = function() {\n  return new Adder;\n};\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar pi = Math.PI;\nvar halfPi = pi / 2;\nvar quarterPi = pi / 4;\nvar tau = pi * 2;\n\nvar degrees = 180 / pi;\nvar radians = pi / 180;\n\nvar abs = Math.abs;\nvar atan = Math.atan;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar ceil = Math.ceil;\nvar exp = Math.exp;\n\nvar log = Math.log;\nvar pow = Math.pow;\nvar sin = Math.sin;\nvar sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nvar sqrt = Math.sqrt;\nvar tan = Math.tan;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nfunction haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n\nfunction noop() {}\n\nfunction streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nvar geoStream = function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n};\n\nvar areaRingSum = adder();\n\nvar areaSum = adder();\nvar lambda00;\nvar phi00;\nvar lambda0;\nvar cosPhi0;\nvar sinPhi0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nvar area = function(object) {\n  areaSum.reset();\n  geoStream(object, areaStream);\n  return areaSum * 2;\n};\n\nfunction spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nfunction cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nfunction cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nfunction cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nfunction cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nfunction cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nfunction cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n\nvar lambda0$1;\nvar phi0;\nvar lambda1;\nvar phi1;\nvar lambda2;\nvar lambda00$1;\nvar phi00$1;\nvar p0;\nvar deltaSum = adder();\nvar ranges;\nvar range$1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range$1[0] = lambda0$1, range$1[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range$1 = [lambda0$1 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign$$1 = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign$$1,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign$$1 * lambda2 < lambdai && lambdai < sign$$1 * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0$1) {\n        if (lambda < lambda0$1) lambda0$1 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0$1, lambda1)) lambda0$1 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range$1 = [lambda0$1 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range$1[0] = lambda0$1, range$1[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00$1 = lambda, phi00$1 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00$1, phi00$1);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0$1 = -(lambda1 = 180);\n  range$1[0] = lambda0$1, range$1[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range$$1, x) {\n  return range$$1[0] <= range$$1[1] ? range$$1[0] <= x && x <= range$$1[1] : x < range$$1[0] || range$$1[1] < x;\n}\n\nvar bounds = function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0$1 = phi0 = Infinity);\n  ranges = [];\n  geoStream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0$1 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range$1 = null;\n\n  return lambda0$1 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0$1, phi0], [lambda1, phi1]];\n};\n\nvar W0;\nvar W1;\nvar X0;\nvar Y0;\nvar Z0;\nvar X1;\nvar Y1;\nvar Z1;\nvar X2;\nvar Y2;\nvar Z2;\nvar lambda00$2;\nvar phi00$2;\nvar x0;\nvar y0;\nvar z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00$2, phi00$2);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00$2 = lambda, phi00$2 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nvar centroid = function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  geoStream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar compose = function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n};\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nfunction rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nvar rotation = function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n};\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nfunction circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nvar circle = function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n};\n\nvar clipBuffer = function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n};\n\nvar clipLine = function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n};\n\nvar pointEqual = function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n};\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nvar clipPolygon = function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n};\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n\nvar clipMax = 1e9;\nvar clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nfunction clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = d3Array.merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nvar extent = function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipExtent(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n};\n\nvar sum = adder();\n\nvar polygonContains = function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign$$1 = delta >= 0 ? 1 : -1,\n          absDelta = sign$$1 * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign$$1 * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign$$1 * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n};\n\nvar lengthSum = adder();\nvar lambda0$2;\nvar sinPhi0$1;\nvar cosPhi0$1;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0$2 = lambda, sinPhi0$1 = sin(phi), cosPhi0$1 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0$2),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0$1 * sinPhi - sinPhi0$1 * cosPhi * cosDelta,\n      z = sinPhi0$1 * sinPhi + cosPhi0$1 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0$2 = lambda, sinPhi0$1 = sinPhi, cosPhi0$1 = cosPhi;\n}\n\nvar length = function(object) {\n  lengthSum.reset();\n  geoStream(object, lengthStream);\n  return +lengthSum;\n};\n\nvar coordinates = [null, null];\nvar object = {type: \"LineString\", coordinates: coordinates};\n\nvar distance = function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n};\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ab = distance(coordinates[0], coordinates[1]),\n      ao = distance(coordinates[0], point),\n      ob = distance(point, coordinates[1]);\n  return ao + ob <= ab + epsilon;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nvar contains = function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n};\n\nfunction graticuleX(y0, y1, dy) {\n  var y = d3Array.range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = d3Array.range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nfunction graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return d3Array.range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(d3Array.range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(d3Array.range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(d3Array.range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nfunction graticule10() {\n  return graticule()();\n}\n\nvar interpolate = function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n};\n\nvar identity = function(x) {\n  return x;\n};\n\nvar areaSum$1 = adder();\nvar areaRingSum$1 = adder();\nvar x00;\nvar y00;\nvar x0$1;\nvar y0$1;\n\nvar areaStream$1 = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream$1.lineStart = areaRingStart$1;\n    areaStream$1.lineEnd = areaRingEnd$1;\n  },\n  polygonEnd: function() {\n    areaStream$1.lineStart = areaStream$1.lineEnd = areaStream$1.point = noop;\n    areaSum$1.add(abs(areaRingSum$1));\n    areaRingSum$1.reset();\n  },\n  result: function() {\n    var area = areaSum$1 / 2;\n    areaSum$1.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart$1() {\n  areaStream$1.point = areaPointFirst$1;\n}\n\nfunction areaPointFirst$1(x, y) {\n  areaStream$1.point = areaPoint$1;\n  x00 = x0$1 = x, y00 = y0$1 = y;\n}\n\nfunction areaPoint$1(x, y) {\n  areaRingSum$1.add(y0$1 * x - x0$1 * y);\n  x0$1 = x, y0$1 = y;\n}\n\nfunction areaRingEnd$1() {\n  areaPoint$1(x00, y00);\n}\n\nvar x0$2 = Infinity;\nvar y0$2 = x0$2;\nvar x1 = -x0$2;\nvar y1 = x1;\n\nvar boundsStream$1 = {\n  point: boundsPoint$1,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0$2, y0$2], [x1, y1]];\n    x1 = y1 = -(y0$2 = x0$2 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint$1(x, y) {\n  if (x < x0$2) x0$2 = x;\n  if (x > x1) x1 = x;\n  if (y < y0$2) y0$2 = y;\n  if (y > y1) y1 = y;\n}\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0$1 = 0;\nvar Y0$1 = 0;\nvar Z0$1 = 0;\nvar X1$1 = 0;\nvar Y1$1 = 0;\nvar Z1$1 = 0;\nvar X2$1 = 0;\nvar Y2$1 = 0;\nvar Z2$1 = 0;\nvar x00$1;\nvar y00$1;\nvar x0$3;\nvar y0$3;\n\nvar centroidStream$1 = {\n  point: centroidPoint$1,\n  lineStart: centroidLineStart$1,\n  lineEnd: centroidLineEnd$1,\n  polygonStart: function() {\n    centroidStream$1.lineStart = centroidRingStart$1;\n    centroidStream$1.lineEnd = centroidRingEnd$1;\n  },\n  polygonEnd: function() {\n    centroidStream$1.point = centroidPoint$1;\n    centroidStream$1.lineStart = centroidLineStart$1;\n    centroidStream$1.lineEnd = centroidLineEnd$1;\n  },\n  result: function() {\n    var centroid = Z2$1 ? [X2$1 / Z2$1, Y2$1 / Z2$1]\n        : Z1$1 ? [X1$1 / Z1$1, Y1$1 / Z1$1]\n        : Z0$1 ? [X0$1 / Z0$1, Y0$1 / Z0$1]\n        : [NaN, NaN];\n    X0$1 = Y0$1 = Z0$1 =\n    X1$1 = Y1$1 = Z1$1 =\n    X2$1 = Y2$1 = Z2$1 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint$1(x, y) {\n  X0$1 += x;\n  Y0$1 += y;\n  ++Z0$1;\n}\n\nfunction centroidLineStart$1() {\n  centroidStream$1.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream$1.point = centroidPointLine;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0$3, dy = y - y0$3, z = sqrt(dx * dx + dy * dy);\n  X1$1 += z * (x0$3 + x) / 2;\n  Y1$1 += z * (y0$3 + y) / 2;\n  Z1$1 += z;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction centroidLineEnd$1() {\n  centroidStream$1.point = centroidPoint$1;\n}\n\nfunction centroidRingStart$1() {\n  centroidStream$1.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd$1() {\n  centroidPointRing(x00$1, y00$1);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream$1.point = centroidPointRing;\n  centroidPoint$1(x00$1 = x0$3 = x, y00$1 = y0$3 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0$3,\n      dy = y - y0$3,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1$1 += z * (x0$3 + x) / 2;\n  Y1$1 += z * (y0$3 + y) / 2;\n  Z1$1 += z;\n\n  z = y0$3 * x - x0$3 * y;\n  X2$1 += z * (x0$3 + x);\n  Y2$1 += z * (y0$3 + y);\n  Z2$1 += z * 3;\n  centroidPoint$1(x0$3 = x, y0$3 = y);\n}\n\nfunction PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n\nvar lengthSum$1 = adder();\nvar lengthRing;\nvar x00$2;\nvar y00$2;\nvar x0$4;\nvar y0$4;\n\nvar lengthStream$1 = {\n  point: noop,\n  lineStart: function() {\n    lengthStream$1.point = lengthPointFirst$1;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint$1(x00$2, y00$2);\n    lengthStream$1.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum$1;\n    lengthSum$1.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst$1(x, y) {\n  lengthStream$1.point = lengthPoint$1;\n  x00$2 = x0$4 = x, y00$2 = y0$4 = y;\n}\n\nfunction lengthPoint$1(x, y) {\n  x0$4 -= x, y0$4 -= y;\n  lengthSum$1.add(sqrt(x0$4 * x0$4 + y0$4 * y0$4));\n  x0$4 = x, y0$4 = y;\n}\n\nfunction PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle$1(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle$1(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle$1(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n\nvar index = function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      geoStream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    geoStream(object, projectionStream(areaStream$1));\n    return areaStream$1.result();\n  };\n\n  path.measure = function(object) {\n    geoStream(object, projectionStream(lengthStream$1));\n    return lengthStream$1.result();\n  };\n\n  path.bounds = function(object) {\n    geoStream(object, projectionStream(boundsStream$1));\n    return boundsStream$1.result();\n  };\n\n  path.centroid = function(object) {\n    geoStream(object, projectionStream(centroidStream$1));\n    return centroidStream$1.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n};\n\nvar clip = function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = d3Array.merge(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n};\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n\nvar clipAntimeridian = clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n\nvar clipCircle = function(radius, delta) {\n  var cr = cos(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n};\n\nvar transform = function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n};\n\nfunction transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n\nfunction fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream$1));\n\n  var b = boundsStream$1.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nfunction fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nvar maxDepth = 16;\nvar cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nvar resample = function(project, delta2) {\n  return +delta2 ? resample$1(project, delta2) : resampleNone(project);\n};\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample$1(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nfunction projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n\nfunction conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n\nfunction cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n\nfunction conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nvar conicEqualArea = function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n};\n\nvar albers = function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n};\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nvar albersUsa = function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n};\n\nfunction azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nfunction azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n\nvar azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nvar azimuthalEqualArea = function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n};\n\nvar azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nvar azimuthalEquidistant = function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n};\n\nfunction mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nvar mercator = function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n};\n\nfunction mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nfunction conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nvar conicConformal = function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n};\n\nfunction equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nvar equirectangular = function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n};\n\nfunction conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nvar conicEquidistant = function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n};\n\nfunction gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nvar gnomonic = function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n};\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nvar identity$1 = function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, clip = identity, // clip extent\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(clip(cacheStream = stream));\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (clip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    }\n  };\n};\n\nfunction orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nvar orthographic = function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n};\n\nfunction stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nvar stereographic = function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n};\n\nfunction transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nvar transverseMercator = function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n};\n\nexports.geoArea = area;\nexports.geoBounds = bounds;\nexports.geoCentroid = centroid;\nexports.geoCircle = circle;\nexports.geoClipExtent = extent;\nexports.geoContains = contains;\nexports.geoDistance = distance;\nexports.geoGraticule = graticule;\nexports.geoGraticule10 = graticule10;\nexports.geoInterpolate = interpolate;\nexports.geoLength = length;\nexports.geoPath = index;\nexports.geoAlbers = albers;\nexports.geoAlbersUsa = albersUsa;\nexports.geoAzimuthalEqualArea = azimuthalEqualArea;\nexports.geoAzimuthalEqualAreaRaw = azimuthalEqualAreaRaw;\nexports.geoAzimuthalEquidistant = azimuthalEquidistant;\nexports.geoAzimuthalEquidistantRaw = azimuthalEquidistantRaw;\nexports.geoConicConformal = conicConformal;\nexports.geoConicConformalRaw = conicConformalRaw;\nexports.geoConicEqualArea = conicEqualArea;\nexports.geoConicEqualAreaRaw = conicEqualAreaRaw;\nexports.geoConicEquidistant = conicEquidistant;\nexports.geoConicEquidistantRaw = conicEquidistantRaw;\nexports.geoEquirectangular = equirectangular;\nexports.geoEquirectangularRaw = equirectangularRaw;\nexports.geoGnomonic = gnomonic;\nexports.geoGnomonicRaw = gnomonicRaw;\nexports.geoIdentity = identity$1;\nexports.geoProjection = projection;\nexports.geoProjectionMutator = projectionMutator;\nexports.geoMercator = mercator;\nexports.geoMercatorRaw = mercatorRaw;\nexports.geoOrthographic = orthographic;\nexports.geoOrthographicRaw = orthographicRaw;\nexports.geoStereographic = stereographic;\nexports.geoStereographicRaw = stereographicRaw;\nexports.geoTransverseMercator = transverseMercator;\nexports.geoTransverseMercatorRaw = transverseMercatorRaw;\nexports.geoRotation = rotation;\nexports.geoStream = geoStream;\nexports.geoTransform = transform;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{\"d3-array\":1}],3:[function(require,module,exports){\n// https://d3js.org/d3-selection/ Version 1.1.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\n\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nvar namespace = function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n};\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nvar creator = function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n};\n\nvar nextId = 0;\n\nfunction local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nvar matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nvar matcher$1 = matcher;\n\nvar filterEvents = {};\n\nexports.event = null;\n\nif (typeof document !== \"undefined\") {\n  var element$1 = document.documentElement;\n  if (!(\"onmouseenter\" in element$1)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = exports.event; // Events can be reentrant (e.g., focus).\n    exports.event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      exports.event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nvar selection_on = function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n};\n\nfunction customEvent(event1, listener, that, args) {\n  var event0 = exports.event;\n  event1.sourceEvent = exports.event;\n  exports.event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    exports.event = event0;\n  }\n}\n\nvar sourceEvent = function() {\n  var current = exports.event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n};\n\nvar point = function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n};\n\nvar mouse = function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n};\n\nfunction none() {}\n\nvar selector = function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n};\n\nvar selection_select = function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nfunction empty() {\n  return [];\n}\n\nvar selectorAll = function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n};\n\nvar selection_selectAll = function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n};\n\nvar selection_filter = function(match) {\n  if (typeof match !== \"function\") match = matcher$1(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nvar sparse = function(update) {\n  return new Array(update.length);\n};\n\nvar selection_enter = function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n};\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nvar selection_data = function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n};\n\nvar selection_exit = function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n};\n\nvar selection_merge = function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n};\n\nvar selection_order = function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar selection_sort = function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nvar selection_call = function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n};\n\nvar selection_nodes = function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n};\n\nvar selection_node = function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n};\n\nvar selection_size = function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n};\n\nvar selection_empty = function() {\n  return !this.node();\n};\n\nvar selection_each = function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n};\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nvar selection_attr = function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n};\n\nvar defaultView = function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n};\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nvar selection_style = function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n};\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nvar selection_property = function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n};\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nvar selection_classed = function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n};\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nvar selection_text = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n};\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nvar selection_html = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n};\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nvar selection_raise = function() {\n  return this.each(raise);\n};\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nvar selection_lower = function() {\n  return this.each(lower);\n};\n\nvar selection_append = function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n};\n\nfunction constantNull() {\n  return null;\n}\n\nvar selection_insert = function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n};\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nvar selection_remove = function() {\n  return this.each(remove);\n};\n\nvar selection_datum = function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n};\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nvar selection_dispatch = function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n};\n\nvar root = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nvar select = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n};\n\nvar selectAll = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n};\n\nvar touch = function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n};\n\nvar touches = function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n};\n\nexports.creator = creator;\nexports.local = local;\nexports.matcher = matcher$1;\nexports.mouse = mouse;\nexports.namespace = namespace;\nexports.namespaces = namespaces;\nexports.select = select;\nexports.selectAll = selectAll;\nexports.selection = selection;\nexports.selector = selector;\nexports.selectorAll = selectorAll;\nexports.style = styleValue;\nexports.touch = touch;\nexports.touches = touches;\nexports.window = defaultView;\nexports.customEvent = customEvent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],4:[function(require,module,exports){\n// https://github.com/topojson/topojson-client Version 3.0.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.topojson = global.topojson || {})));\n}(this, (function (exports) { 'use strict';\n\nvar identity = function(x) {\n  return x;\n};\n\nvar transform = function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n};\n\nvar bbox = function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n};\n\nvar reverse = function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n};\n\nvar feature = function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature$1(topology, o); })}\n      : feature$1(topology, o);\n};\n\nfunction feature$1(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nfunction object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n\nvar stitch = function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n};\n\nvar mesh = function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n};\n\nfunction meshArcs(topology, object$$1, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object$$1, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object$$1, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object$$1);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nvar merge = function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n};\n\nfunction mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    })\n  };\n}\n\nvar bisect = function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n};\n\nvar neighbors = function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n};\n\nvar untransform = function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n};\n\nvar quantize = function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n};\n\nexports.bbox = bbox;\nexports.feature = feature;\nexports.mesh = mesh;\nexports.meshArcs = meshArcs;\nexports.merge = merge;\nexports.mergeArcs = mergeArcs;\nexports.neighbors = neighbors;\nexports.quantize = quantize;\nexports.transform = transform;\nexports.untransform = untransform;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _d3Selection = require('d3-selection');\n\nvar _d3Geo = require('d3-geo');\n\nvar _topojsonClient = require('topojson-client');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar WorldMap = function () {\n  function WorldMap(element, options) {\n    _classCallCheck(this, WorldMap);\n\n    var defaults = {\n      width: 1200,\n      height: 780,\n      scale: 100\n    };\n\n    Object.assign(this, options, defaults);\n    this.element = element;\n\n    this.init();\n  }\n\n  _createClass(WorldMap, [{\n    key: 'init',\n    value: function init() {\n      var element = this.element,\n          width = this.width,\n          height = this.height,\n          scale = this.scale;\n\n      var svg = this.svg = (0, _d3Selection.select)(element).append('svg').attr('width', width).attr('height', height);\n\n      svg.append('g').attr('class', 'countries');\n\n      this.projection = (0, _d3Geo.geoMercator)().scale(scale).translate([width / 2, height / 2]);\n    }\n  }, {\n    key: 'renderCountries',\n    value: function renderCountries(data) {\n      var svg = this.svg,\n          projection = this.projection;\n\n\n      var country = svg.selectAll('.country').data(data);\n\n      var length = data.length;\n\n      country.enter().append('path').attr('class', 'country').attr('d', function (data) {\n        return (0, _d3Geo.geoPath)().projection(projection)(data);\n      }).attr('fill', function (data, index) {\n        return 'rgba(38, 50, 56, ' + 1 / length * index + ')';\n      });\n    }\n  }, {\n    key: 'renderStates',\n    value: function renderStates(data) {\n      data = (0, _topojsonClient.feature)(data, data.objects.states).features;\n\n      var svg = this.svg;\n\n      var projection = (0, _d3Geo.geoAlbersUsa)().scale(100);\n\n      svg.selectAll('.state').data(data).enter().append('path').attr('class', 'state').attr('d', function (data) {\n        return (0, _d3Geo.geoPath)().projection(projection)(data);\n      });\n    }\n  }, {\n    key: 'renderMarkers',\n    value: function renderMarkers(data) {\n      var svg = this.svg,\n          projection = this.projection;\n\n\n      var marker = svg.selectAll('.marker').data(data);\n\n      marker.enter().append('circle').attr('class', 'marker').attr('cx', function (data) {\n        return projection(data.coordinates)[0];\n      }).attr('cy', function (data) {\n        return projection(data.coordinates)[1];\n      }).attr('r', function (data) {\n        return data.population / 3000000;\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render(data) {\n      console.log(data);\n      data = (0, _topojsonClient.feature)(data, data.objects.countries).features;\n\n      this.renderCountries(data);\n      // this.renderMarkers(worldData);\n    }\n  }]);\n\n  return WorldMap;\n}();\n\nexports.default = WorldMap;\n\n},{\"d3-geo\":2,\"d3-selection\":3,\"topojson-client\":4}],6:[function(require,module,exports){\n'use strict';\n\nvar _d3Worldmap = require('./d3-worldmap.js');\n\nvar _d3Worldmap2 = _interopRequireDefault(_d3Worldmap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar worldmap = new _d3Worldmap2.default('.js-worldmap');\n\nfetch('data/world/110m.json').then(function (response) {\n  return response.json();\n}).then(function (data) {\n  return worldmap.render(data);\n});\n\n// fetch('data/world/10m.json')\n//   .then(response => response.json())\n//   .then(data => worldmap.renderStates(data));\n\n// fetch('data/world/cities.json')\n//   .then(response => response.json())\n//   .then(data => worldmap.renderMarkers(data));\n\n},{\"./d3-worldmap.js\":5}]},{},[6]);\n"]}