{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/assets/js/barnsley-fern.js","source/assets/js/script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","defaults","width","window","innerWidth","height","innerHeight","scale","opacity","BarnsleyFern","element","options","_classCallCheck","this","Object","assign","init","update","canvas","document","querySelector","context","getContext","translate","rules","rulesLenght","random","Math","rule","weight","iterations","x","y","getRule","x1","b","tx","y1","c","d","ty","fillRect","render","requestAnimationFrame","bind","default"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAa,GAAA,SAAAT,EAAAU,EAAAJ,wZCAMK,GACJC,MAASC,OAAOC,WAChBC,OAASF,OAAOG,YAChBC,MAAS,GACTC,QAAS,IAGLC,aAEJ,SAAAA,EAAYC,EAASC,GAASC,EAAAC,KAAAJ,GAC5BK,OAAOC,OAAOF,KAAMZ,EAAUU,GAE9BE,KAAKH,QAAUA,EAEfG,KAAKG,OACLH,KAAKI,OAAON,4CAIZ,IAAMO,EAAUL,KAAKK,OAAWC,SAASC,cAAcP,KAAKH,SACtDW,EAAUR,KAAKQ,QAAWR,KAAKK,OAAOI,WAAW,MACjDpB,EAAUgB,EAAOhB,MAASW,KAAKX,MAC/BG,EAAUa,EAAOb,OAASQ,KAAKR,OAErCgB,EAAQE,UAAUrB,EAAQ,EAAGG,mCAGvBmB,GAIN,IAHA,IAAIC,EAAcD,EAAM1B,OACpB4B,EAASC,KAAKD,SAEXD,KAAe,CACpB,IAAMG,EAAOJ,EAAMC,GAEnB,GAAIC,EAASE,EAAKC,OAChB,OAAOD,EAGTF,GAAUE,EAAKC,uCAKZlB,GAOL,IAPc,IACNJ,EAAmBM,KAAnBN,MAAOC,EAAYK,KAAZL,QAEXsB,EAAa,IACbC,EAAIJ,KAAKD,SACTM,EAAIL,KAAKD,SAENI,KAAc,CACnB,IAAMF,EAAOf,KAAKoB,QAAQpB,KAAKW,OACzBU,EAAKH,EAAIH,EAAKvC,EAAI2C,EAAIJ,EAAKO,EAAIP,EAAKQ,GACpCC,EAAKN,EAAIH,EAAKU,EAAIN,EAAIJ,EAAKW,EAAIX,EAAKY,GAE1CT,EAAIG,EACJF,EAAIK,EAEJxB,KAAKQ,QAAQoB,SAASV,EAAIxB,GAAQyB,EAAIzB,EAAOC,EAASA,mCAKnDG,GACLE,KAAK6B,OAAO/B,GACZgC,sBAAsB9B,KAAKI,OAAO2B,KAAK/B,0BAK5BJ,uCCtEf,IAGMe,IAEFnC,EAAG,IACH8C,EAAG,IACHG,GAAI,IACJC,EAAG,IACHH,GAAI,EACJI,GAAI,IACJX,OAAQ,MAGRxC,GAAI,IACJ8C,EAAG,IACHG,EAAG,IACHC,EAAG,IACHH,GAAI,EACJI,GAAI,IACJX,OAAQ,MAGRxC,EAAG,GACH8C,GAAI,IACJG,EAAG,IACHC,EAAG,IACHH,GAAI,EACJI,GAAI,IACJX,OAAQ,MAGRxC,EAAG,EACH8C,EAAG,EACHG,EAAG,EACHC,EAAG,IACHH,GAAI,EACJI,GAAI,EACJX,OAAQ,MAIZ,sDA1CAvC,EAAA,oBA0CAuD,SAAiB,WACfrB,MAAOA","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const defaults = {\n  width  : window.innerWidth,\n  height : window.innerHeight,\n  scale  : 75,\n  opacity: 0.5\n};\n\nclass BarnsleyFern {\n\n  constructor(element, options) {\n    Object.assign(this, defaults, options);\n\n    this.element = element;\n\n    this.init();\n    this.update(options);\n  }\n\n  init() {\n    const canvas  = this.canvas   = document.querySelector(this.element);\n    const context = this.context  = this.canvas.getContext('2d');\n    const width   = canvas.width  = this.width;\n    const height  = canvas.height = this.height;\n\n    context.translate(width / 2, height);\n  }\n\n  getRule(rules) {\n    let rulesLenght = rules.length;\n    let random = Math.random();\n\n    while (rulesLenght--) {\n      const rule = rules[rulesLenght];\n\n      if (random < rule.weight) {\n        return rule;\n      }\n\n      random -= rule.weight;\n    }\n\n  }\n\n  render(options) {\n    const { scale, opacity } = this;\n\n    let iterations = 100;\n    let x = Math.random();\n    let y = Math.random();\n\n    while (iterations--) {\n      const rule = this.getRule(this.rules);\n      const x1 = x * rule.a + y * rule.b + rule.tx;\n      const y1 = x * rule.c + y * rule.d + rule.ty;\n\n      x = x1;\n      y = y1;\n\n      this.context.fillRect(x * scale, -y * scale, opacity, opacity);\n    }\n\n  }\n\n  update(options) {\n    this.render(options)\n    requestAnimationFrame(this.update.bind(this));\n  }\n\n}\n\nexport default BarnsleyFern;\n","import BarnsleyFern from './barnsley-fern';\n\n// https://en.wikipedia.org/wiki/Barnsley_fern\nconst rules = [\n  {\n    a: 0.85,\n    b: 0.04,\n    c: -0.04,\n    d: 0.85,\n    tx: 0,\n    ty: 1.6,\n    weight: 0.65\n  },\n  {\n    a: -0.15,\n    b: 0.28,\n    c: 0.26,\n    d: 0.24,\n    tx: 0,\n    ty: 0.44,\n    weight: 0.07\n  },\n  {\n    a: 0.2,\n    b: -0.26,\n    c: 0.23,\n    d: 0.22,\n    tx: 0,\n    ty: 1.6,\n    weight: 0.07\n  },\n  {\n    a: 0,\n    b: 0,\n    c: 0,\n    d: 0.16,\n    tx: 0,\n    ty: 0,\n    weight: 0.21\n  }\n];\n\nnew BarnsleyFern('.canvas', {\n  rules: rules\n});\n"]}