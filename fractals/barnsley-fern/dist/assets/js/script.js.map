{"version":3,"sources":["/script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","defaults","width","window","innerWidth","height","innerHeight","scale","opacity","BarnsleyFern","element","options","this","assign","init","update","canvas","document","querySelector","context","getContext","translate","rules","rulesLenght","random","Math","rule","weight","iterations","x","y","getRule","x1","b","tx","y1","c","d","ty","fillRect","render","requestAnimationFrame","bind","default","2","_interopRequireDefault","obj","__esModule","_barnsleyFern","_barnsleyFern2","./barnsley-fern"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaults = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n  scale: 75,\n  opacity: 0.5\n};\n\nvar BarnsleyFern = function () {\n  function BarnsleyFern(element, options) {\n    _classCallCheck(this, BarnsleyFern);\n\n    Object.assign(this, defaults, options);\n\n    this.element = element;\n\n    this.init();\n    this.update(options);\n  }\n\n  _createClass(BarnsleyFern, [{\n    key: 'init',\n    value: function init() {\n      var canvas = this.canvas = document.querySelector(this.element);\n      var context = this.context = this.canvas.getContext('2d');\n      var width = canvas.width = this.width;\n      var height = canvas.height = this.height;\n\n      context.translate(width / 2, height);\n    }\n  }, {\n    key: 'getRule',\n    value: function getRule(rules) {\n      var rulesLenght = rules.length;\n      var random = Math.random();\n\n      while (rulesLenght--) {\n        var rule = rules[rulesLenght];\n\n        if (random < rule.weight) {\n          return rule;\n        }\n\n        random -= rule.weight;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(options) {\n      var scale = this.scale,\n          opacity = this.opacity;\n\n\n      var iterations = 100;\n      var x = Math.random();\n      var y = Math.random();\n\n      while (iterations--) {\n        var rule = this.getRule(this.rules);\n        var x1 = x * rule.a + y * rule.b + rule.tx;\n        var y1 = x * rule.c + y * rule.d + rule.ty;\n\n        x = x1;\n        y = y1;\n\n        this.context.fillRect(x * scale, -y * scale, opacity, opacity);\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(options) {\n      this.render(options);\n      requestAnimationFrame(this.update.bind(this));\n    }\n  }]);\n\n  return BarnsleyFern;\n}();\n\nexports.default = BarnsleyFern;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _barnsleyFern = require('./barnsley-fern');\n\nvar _barnsleyFern2 = _interopRequireDefault(_barnsleyFern);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// https://en.wikipedia.org/wiki/Barnsley_fern\nvar rules = [{\n  a: 0.85,\n  b: 0.04,\n  c: -0.04,\n  d: 0.85,\n  tx: 0,\n  ty: 1.6,\n  weight: 0.65\n}, {\n  a: -0.15,\n  b: 0.28,\n  c: 0.26,\n  d: 0.24,\n  tx: 0,\n  ty: 0.44,\n  weight: 0.07\n}, {\n  a: 0.2,\n  b: -0.26,\n  c: 0.23,\n  d: 0.22,\n  tx: 0,\n  ty: 1.6,\n  weight: 0.07\n}, {\n  a: 0,\n  b: 0,\n  c: 0,\n  d: 0.16,\n  tx: 0,\n  ty: 0,\n  weight: 0.21\n}];\n\nnew _barnsleyFern2.default('.canvas', {\n  rules: rules\n});\n\n},{\"./barnsley-fern\":1}]},{},[2]);\n"]}